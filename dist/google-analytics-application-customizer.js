define("0b6313bf-13c8-4ed3-955b-8a0bedd8e806_0.0.1",["@microsoft/decorators","@microsoft/sp-core-library","@microsoft/sp-application-base","GoogleAnalyticsApplicationCustomizerStrings"],function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_2__,__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__){return function(t){function _(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,_),i.l=!0,i.exports}var e={};return _.m=t,_.c=e,_.d=function(t,e,o){_.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},_.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return _.d(e,"a",e),e},_.o=function(t,_){return Object.prototype.hasOwnProperty.call(t,_)},_.p="",_(_.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__microsoft_decorators__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0__microsoft_decorators___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__microsoft_decorators__),__WEBPACK_IMPORTED_MODULE_1__microsoft_sp_core_library__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__microsoft_sp_core_library___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__microsoft_sp_core_library__),__WEBPACK_IMPORTED_MODULE_2__microsoft_sp_application_base__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2__microsoft_sp_application_base___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__microsoft_sp_application_base__),__WEBPACK_IMPORTED_MODULE_3_GoogleAnalyticsApplicationCustomizerStrings__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_3_GoogleAnalyticsApplicationCustomizerStrings___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_GoogleAnalyticsApplicationCustomizerStrings__),__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,_){t.__proto__=_}||function(t,_){for(var e in _)_.hasOwnProperty(e)&&(t[e]=_[e])};return function(_,e){function o(){this.constructor=_}t(_,e),_.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),__decorate=this&&this.__decorate||function(t,_,e,o){var i,r=arguments.length,n=r<3?_:null===o?o=Object.getOwnPropertyDescriptor(_,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,_,e,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(n=(r<3?i(n):r>3?i(_,e,n):i(_,e))||n);return r>3&&n&&Object.defineProperty(_,e,n),n},LOG_SOURCE="AnalyticsApplicationCustomizer",currentURL=document.location.href,previousURL="",GoogleAnalyticsApplicationCustomizer=function(_super){function GoogleAnalyticsApplicationCustomizer(){var t=null!==_super&&_super.apply(this,arguments)||this;return t.currentPage="",t.isInitialLoad=!0,t}return __extends(GoogleAnalyticsApplicationCustomizer,_super),GoogleAnalyticsApplicationCustomizer.prototype.getFreshCurrentPage=function(){return window.location.pathname+window.location.search},GoogleAnalyticsApplicationCustomizer.prototype.updateCurrentPage=function(){this.currentPage=this.getFreshCurrentPage()},GoogleAnalyticsApplicationCustomizer.prototype.navigatedEvent=function(){var t=this.properties.trackingID;if(t){var _=this.getFreshCurrentPage();this.isInitialLoad?(this.realInitialNavigatedEvent(t),this.updateCurrentPage(),this.isInitialLoad=!1):this.isInitialLoad||_===this.currentPage||(this.realNavigatedEvent(t),this.updateCurrentPage())}else __WEBPACK_IMPORTED_MODULE_1__microsoft_sp_core_library__.Log.info(LOG_SOURCE,""+__WEBPACK_IMPORTED_MODULE_3_GoogleAnalyticsApplicationCustomizerStrings__.MissingID)},GoogleAnalyticsApplicationCustomizer.prototype.realInitialNavigatedEvent=function(trackingID){console.log("Tracking full page load...");var gtagScript=document.createElement("script");gtagScript.type="text/javascript",gtagScript.src="https://www.googletagmanager.com/gtag/js?id="+trackingID,gtagScript.async=!0,document.head.appendChild(gtagScript),eval("\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n          gtag('config',  '"+trackingID+"');\n        ")},GoogleAnalyticsApplicationCustomizer.prototype.realNavigatedEvent=function(trackingID){console.log("Tracking partial page load..."),eval("\n        if(ga) {\n          ga('create', '"+trackingID+"', 'auto');\n          ga('set', 'page', '"+this.getFreshCurrentPage()+"');\n          ga('send', 'pageview');\n        }\n        ")},GoogleAnalyticsApplicationCustomizer.prototype.onInit=function(){return this.context.application.navigatedEvent.add(this,this.navigatedEvent),Promise.resolve()},__decorate([__WEBPACK_IMPORTED_MODULE_0__microsoft_decorators__.override],GoogleAnalyticsApplicationCustomizer.prototype,"onInit",null),GoogleAnalyticsApplicationCustomizer}(__WEBPACK_IMPORTED_MODULE_2__microsoft_sp_application_base__.BaseApplicationCustomizer);__webpack_exports__.default=GoogleAnalyticsApplicationCustomizer},function(t,_){t.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(t,_){t.exports=__WEBPACK_EXTERNAL_MODULE_2__},function(t,_){t.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(t,_){t.exports=__WEBPACK_EXTERNAL_MODULE_4__}])});